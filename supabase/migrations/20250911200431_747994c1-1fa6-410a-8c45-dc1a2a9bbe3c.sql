-- Add missing columns to publications table
ALTER TABLE public.publications 
ADD COLUMN IF NOT EXISTS type TEXT DEFAULT 'standard',
ADD COLUMN IF NOT EXISTS tier TEXT DEFAULT 'standard', 
ADD COLUMN IF NOT EXISTS tat_days TEXT DEFAULT '1-3 Days',
ADD COLUMN IF NOT EXISTS description TEXT,
ADD COLUMN IF NOT EXISTS features TEXT[] DEFAULT '{}',
ADD COLUMN IF NOT EXISTS website_url TEXT,
ADD COLUMN IF NOT EXISTS popularity INTEGER DEFAULT 50,
ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS da_score INTEGER DEFAULT 0,
ADD COLUMN IF NOT EXISTS dr_score INTEGER DEFAULT 0,
ADD COLUMN IF NOT EXISTS location TEXT DEFAULT 'GLOBAL',
ADD COLUMN IF NOT EXISTS dofollow_link BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS sponsored BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS indexed BOOLEAN DEFAULT true,
ADD COLUMN IF NOT EXISTS erotic BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS health BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS cbd BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS crypto BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS gambling BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS external_id TEXT;